# ====================================================================================
# Ohana of Polynesia Booking App - Environment Variables
# ====================================================================================
#
# INSTRUCTIONS:
# 1. Copy this file to .env in the root directory: cp .env.example .env
# 2. Update all placeholder values with your actual credentials
# 3. NEVER commit the .env file to version control
# 4. Generate secrets using: openssl rand -base64 32
#
# ====================================================================================

# ====================
# ENVIRONMENT
# ====================
NODE_ENV=development  # Options: development | production | test

# ====================
# DATABASE (PostgreSQL)
# ====================
# For development - change these for production!
POSTGRES_USER=
POSTGRES_PASSWORD=
POSTGRES_DB=ohana_booking_dev

# Database Connection
# Docker: use service name 'db' | Local development: use 'localhost'
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@db:5432/${POSTGRES_DB}

# Connection Pool (optional tuning)
# DB_POOL_MIN=2
# DB_POOL_MAX=10

# ====================
# REDIS (Caching/Sessions)
# ====================
# Docker: use service name 'redis' | Local development: use 'localhost'
REDIS_URL=redis://redis:6379
# REDIS_PASSWORD=

# ====================
# API SERVER
# ====================
API_PORT=3000
API_PREFIX=api
API_VERSION=v1
API_URL=http://localhost:3000

# CORS Configuration
CORS_ORIGIN=http://localhost:5173
CORS_CREDENTIALS=true

# Rate Limiting (requests per TTL window)
RATE_LIMIT_TTL=60000
RATE_LIMIT_MAX=100

# ====================
# WEB FRONTEND (Vue + Vite)
# ====================
# Note: Vite env vars must be prefixed with VITE_
VITE_API_URL=http://localhost:3000/api/v1
VITE_APP_NAME=Ohana of Polynesia Booking
VITE_APP_TITLE=Booking System

# ====================
# AUTHENTICATION & SECURITY
# ====================
# JWT Access Token (short-lived)
# REQUIRED: Generate with: openssl rand -base64 32
JWT_SECRET=  # ⚠️ REQUIRED - Generate: openssl rand -base64 32
JWT_EXPIRES_IN=15m
JWT_ALGORITHM=HS256

# JWT Refresh Token (long-lived)
# REQUIRED: Generate with: openssl rand -base64 32
JWT_REFRESH_SECRET=  # ⚠️ REQUIRED - Generate: openssl rand -base64 32
JWT_REFRESH_EXPIRES_IN=7d

# Session Management
# REQUIRED: Generate with: openssl rand -base64 32
SESSION_SECRET=  # ⚠️ REQUIRED - Generate: openssl rand -base64 32
SESSION_MAX_AGE=86400000

# Cookie Configuration
COOKIE_SECURE=false
COOKIE_HTTP_ONLY=true
COOKIE_SAME_SITE=lax
COOKIE_DOMAIN=localhost

# Password Hashing (10-12 recommended for production)
BCRYPT_ROUNDS=10

# ====================
# EMAIL (SMTP)
# ====================
# Uncomment and configure for production
# EMAIL_ENABLED=false
# EMAIL_HOST=
# EMAIL_PORT=
# EMAIL_SECURE=false
# EMAIL_USER=your-email@gmail.com
# EMAIL_PASSWORD=
# EMAIL_FROM_NAME=Ohana of Polynesia
# EMAIL_FROM_ADDRESS=noreply@ohanapolynesia.com

# ====================
# FILE STORAGE
# ====================
# Local storage (default)
UPLOAD_MAX_FILE_SIZE=5242880
UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,application/pdf

# AWS S3 (uncomment for cloud storage)
# STORAGE_PROVIDER=s3
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# AWS_REGION=us-west-2
# AWS_S3_BUCKET=ohana-bookings-prod
# AWS_S3_PUBLIC_URL=https://your-bucket.s3.amazonaws.com

# ====================
# PAYMENT PROCESSING
# ====================
# Stripe (uncomment to enable)
# PAYMENT_ENABLED=false
# STRIPE_SECRET_KEY=sk_test_51...
# STRIPE_PUBLISHABLE_KEY=pk_test_51...
# STRIPE_WEBHOOK_SECRET=whsec_...
# STRIPE_CURRENCY=usd

# ====================
# LOGGING & MONITORING
# ====================
LOG_LEVEL=info
LOG_FORMAT=json
LOG_TIMESTAMP=true

# Sentry Error Tracking (uncomment for production)
# SENTRY_ENABLED=false
# SENTRY_DSN=https://...@o....ingest.sentry.io/...
# SENTRY_ENVIRONMENT=development
# SENTRY_TRACES_SAMPLE_RATE=0.1

# Application Performance Monitoring (uncomment if needed)
# APM_ENABLED=false
# NEW_RELIC_LICENSE_KEY=
# NEW_RELIC_APP_NAME=ohana-bookings

# ====================
# FEATURE FLAGS
# ====================
ENABLE_SWAGGER=true
ENABLE_API_DOCS=true
ENABLE_EMAIL_NOTIFICATIONS=false
ENABLE_SMS_NOTIFICATIONS=false
ENABLE_PAYMENT_PROCESSING=false
ENABLE_FILE_UPLOADS=true

# ====================
# DEVELOPMENT TOOLS
# ====================
# Debugging
DEBUG=false
VERBOSE_LOGGING=false

# Database Seeding
SEED_DATABASE=false

# Hot Module Replacement
VITE_HMR_PORT=5173